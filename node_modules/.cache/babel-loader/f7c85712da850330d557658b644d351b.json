{"ast":null,"code":"var _jsxFileName = \"/home/hamid/Desktop/CA8-Front/src/UserSession/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport './Login.css';\nimport { getUser } from \"../../Services/User\";\nimport LoadingSpinner from \"../../common/LoadingSpinner\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { toast } from 'react-toastify';\nimport { setUser } from \"../../Services/UserManager\";\nimport { validateEmail } from \"../Utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!validateEmail(username)) return;\n    setLoading(true);\n    getUser(username, password).then(res => {\n      if (res.name == \"error\") {\n        toast.error(\"Incorrect username or password\");\n      } else {\n        setUser(res);\n        window.location.replace(\"http://localhost:3000/\");\n      }\n\n      setLoading(false);\n    }).catch(error => {\n      if (error.response) console.log(error.response.data);else console.log(error);\n    });\n  };\n\n  const handleChangeUsername = event => {\n    setUsername(event.target.value);\n  };\n\n  const handleChangePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  const usernameInput = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"input-group-addon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"username\",\n          placeholder: \"\\u0646\\u0627\\u0645 \\u06A9\\u0627\\u0631\\u0628\\u0631\\u06CC\",\n          required: \"required\",\n          value: username,\n          onChange: handleChangeUsername\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  };\n\n  const passwordInput = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"input-group-addon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"password\",\n          placeholder: \"\\u0631\\u0645\\u0632 \\u0648\\u0631\\u0648\\u062F\",\n          required: \"required\",\n          value: password,\n          onChange: handleChangePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title\",\n          children: \" \\u0648\\u0631\\u0648\\u062F \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), usernameInput(), passwordInput(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: loading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 36\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"login-key btn btn-primary btn-lg\",\n            children: \" \\u0648\\u0631\\u0648\\u062F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [\" \\u0622\\u06CC\\u0627 \\u0627\\u0632 \\u0642\\u0628\\u0644 \\u062D\\u0633\\u0627\\u0628 \\u06A9\\u0627\\u0631\\u0628\\u0631\\u06CC \\u0646\\u062F\\u0627\\u0631\\u06CC\\u062F\\u061F \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/Signup\",\n          children: \" \\u062B\\u0628\\u062A \\u0646\\u0627\\u0645 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 78\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"Ppbzv4LmWi015HO+PpEPI5+Tpzk=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/hamid/Desktop/CA8-Front/src/UserSession/Login/Login.js"],"names":["React","useState","getUser","LoadingSpinner","toast","setUser","validateEmail","Login","props","username","setUsername","password","setPassword","loading","setLoading","handleSubmit","e","preventDefault","then","res","name","error","window","location","replace","catch","response","console","log","data","handleChangeUsername","event","target","value","handleChangePassword","usernameInput","passwordInput"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport './Login.css';\nimport {getUser} from \"../../Services/User\";\nimport LoadingSpinner from \"../../common/LoadingSpinner\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport {toast} from 'react-toastify';\nimport {setUser} from \"../../Services/UserManager\";\nimport {validateEmail} from \"../Utils\";\n\nfunction Login(props) {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (! validateEmail(username))\n            return;\n        setLoading(true);\n        getUser(username, password)\n            .then(res => {\n                if (res.name == \"error\") {\n                    toast.error(\"Incorrect username or password\");\n                } else {\n                    setUser(res);\n                    window.location.replace(\"http://localhost:3000/\");\n                }\n                setLoading(false);\n            })\n            .catch(error => {\n                if (error.response)\n                    console.log(error.response.data);\n                else\n                    console.log(error);\n            })\n    }\n\n    const handleChangeUsername = (event) => {\n        setUsername(event.target.value);\n    }\n\n    const handleChangePassword = (event) => {\n        setPassword(event.target.value);\n    }\n\n    const usernameInput = () => {\n        return (\n            <div className=\"form-group\">\n                <div className=\"input-group\">\n                    <span className=\"input-group-addon\"></span>\n                    <input type=\"text\" className=\"form-control\" name=\"username\" placeholder=\"نام کاربری\"\n                           required=\"required\" value={username} onChange={handleChangeUsername}/>\n                </div>\n            </div>\n        );\n    }\n\n    const passwordInput = () => {\n        return (\n            <div className=\"form-group\">\n                <div className=\"input-group\">\n                    <span className=\"input-group-addon\"></span>\n                    <input type=\"text\" className=\"form-control\" name=\"password\" placeholder=\"رمز ورود\"\n                           required=\"required\" value={password} onChange={handleChangePassword}/>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className={\"login-container\"}>\n            <div className=\"login-form\">\n                <form onSubmit={handleSubmit}>\n                    <h2 className=\"title\"> ورود </h2>\n                    {usernameInput()}\n                    {passwordInput()}\n                    <div className=\"form-group\">\n                        {loading? (<LoadingSpinner />) : (\n                            <button type=\"submit\" className=\"login-key btn btn-primary btn-lg\"> ورود</button>)\n                        }\n                    </div>\n                </form>\n                <div className=\"text-center\"> آیا از قبل حساب کاربری ندارید؟ <a href=\"/Signup\"> ثبت نام </a></div>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}